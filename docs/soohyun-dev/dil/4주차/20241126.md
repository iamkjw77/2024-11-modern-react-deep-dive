# 2024-11-26

### 싱글 페이지 애플리케이션(SPA)

렌더링과 라우팅에 필요한 대부분의 기능을 서버가 아닌 브라우저의 자바스크립트에 의존하는 방식

최초에 서버에서 최소한의 데이터를 불러온 이후부터는 이미 가지고 있는 자바스크립트 리소스와 브라우저 API를 기반으로 모든 작동이 이뤄진다.

### JAM

JavaScript, API, Markup

### LAMP

Linux, Apache, MySQL, PHP/Python

JAM 스택을 사용하여 프런트엔드는 자바스크립트와 마크업을 미리 빌드해 두고 정적으로 사용자에게 제공하여 서버 확정성 문제에서 자유로워질 수 있게 됨.

시대가 지나면서 인터넷 속도, 하드웨어 성능이 좋아졌지만 자바스크립트 리소스 크기도 덩달아 증가하였기 때문에

여전히 모바일에서의 웹페이지 로딩은 오래걸린다. 현재의 웹 애플리케이션은 그만큼 정말 다양한 작업들을 처리하고 있다.

서버 사이드 렌더링
최초에 사용자에게 보여줄 페이지를 서버에서 렌더링해 빠르게 사용자에게 화면을 제공하는 방식

싱글 페이지 애플리케이션과의 차이는 웹페이지 렌더링의 책임을 어디에 두느냐다.

서버 사이드 렌더링은 렌더링에 필요한 작업을 모두 서버에서 수행

## 장점

1. 최초 페이지 진입이 비교적 빠르다

FCP가 빨라질 수 있다.

일반적으로 서버에서 HTTP 요청을 수행하는 것이 더 빠르며, HTML을 그리는 작업도 서버에서 HTML을 문자열로 미리 그려서 내려주는 것이 더 빠른 속도를 가진다.

2. 검색 엔진과 SNS 공유 등 메타데이터 제공이 쉽다

검색 엔진 최적화에 유용하다

검색 엔진이 사이트에서 필요한 정보를 가져가는 과정

1. 검색 엔진 로봇이 페이지에 진입

2. 페이지가 HTMl 정보를 제공해 로봇이 HTML 다운로드, 자바스크립트 코드는 실행하지 않음

3. HTML 페이지 내부의 Open Graph나 meta 태그 정보를 기반으로 페이지의 검색 정보를 가져와 검색 엔진에 저장

검색 엔진 로봇은 자바스크립트를 다운로드하거나 실행하지 않는다.

SPA는 대부분의 작동이 JS에 의존하기 때문에 검색 엔진에 불리하다.

반면, 서버 사이드 렌더링은 최초의 렌더링 작업이 서버에서 일어나, 검색 엔진에 제공할 정보를 서버에서 가공하여 HTML 응답으로 제공할 수 있어 검색 엔진 최적화에 대응하기 용이하다.

3. 누적 레이아웃 이동이 적다

누적 레이아웃 이동이란?

사용자에게 페이지를 보여준 이후에 뒤늦게 어떤 HTML 정보가 추가되거나 삭제되어 마치 화면이 덜컥거리는 것과 같은 부정적인 사용자 경험. 즉, 사용자가 예상치 못한 시점에서 페이지가 변경되어 불편을 초래

서버 사이드 렌더링의 경우 요청이 완전히 완료된 이후에 완성된 페이지를 제공하므로 이러한 문제에서 비교적 자유롭다.

4. 사용자의 디바이스 성능에 비교적 자유롭다

서버 사이드 렌더링은 렌더링에 대한 부담을 서버와 나눌 수 있어 사용자의 디바이스 성능으로부터 조금 더 자유로워질 수 있다.

5. 보안에 좀 더 안전하다

브라우저의 개발자 도구와 같은 작업을 수행할 수 없어 보안적으로 안전하다.

## 단점

1. 소스코드를 작성할 때 항상 서버를 고려해야 한다.

window, sessionStorage와 같이 브라우저에만 있는 전역 객체를 사용할 수 없다.

클라이언트에서만 실행되는 코드가 많을수록 불리하다.

2. 적절한 서버가 구축돼 있어야 한다.

사용자의 요청에 대응할 수 있는 물리적인 가용량 확보, 복구 전략, 요청 분산, 프로세스 다운 대비 등등과 같은 여러 방안이 준비되어 있어야 한다.

3. 서비스 지연에 따른 문제

서버에서 사용자에게 보여줄 페이지에 대한 렌더링 작업이 끝나기까지는 사용자에게 어떠한 정보도 제공할 수 없다.
