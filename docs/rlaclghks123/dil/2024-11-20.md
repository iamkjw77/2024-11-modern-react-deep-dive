# 2024.11.20 DIL

p417 ~

# 프로파일러

- 프로파일러는 리액트가 렌더링 하는 과정에서 발생하는 상황을 확인하는 도구다.
  1. 렌더링 과정에서 어떤 컴포넌트가 렌더링 됐는지
  2. 몇 차례나 렌더링이 일어났는지
  3. 어떤 작업에서 오래 걸렸는지
- 빌드 x -> 개발 모드로 실행되는 리액트를 준비

### 설정 변경하기

- general - Highlight updates when components render : 컴포넌트가 렌더링될 때마다 해당 컴포넌트에 하이라이트 표시
- Debugging - Hide logs during second render in Strict Mode : 2번 실행되는 걸 막아줌 - console 1번만 찍힘
- Profiler - Record why each component rendered while profiling : 무슨 컴포넌트가 렌더링 됐는지 기록

### 프로파일링

![image](https://github.com/user-attachments/assets/1cdc37fe-aab3-4bd1-8ab5-67723ee45bc3)

- 첫 번째 버튼 : 프로파일링 시작 - 빨간 버튼으로 변함 - 빨간 버튼 클릭 - 프로파일링 중단 - 프로파일링 결과
- 두 번째 버튼 : Reload and Start Profiling 버튼으로 새로고침과 동시에 프로파일링 시작 - 빨간 버튼으로 변함 - 빨간 버튼 클릭 - 프로파일링 중단 - 프로파일링 결과
- 세 번째 버튼 : Stop Profiling 버튼으로 프로파일링된 내용을 모두 지우는 버튼 - 기록 삭제
- 네 번째 버튼 : 프로파일 불러오기
- 다섯 번째 버튼 : 프로파일 저장 - JSON파일 다운로드 - 리액트 개발 도구에서 저장하고 불러오는 용도로 복잡한 구조로 되어있다.

### Flamegraph

- 불꽃모양 아이콘으로 렌더 커밋별로 어떠한 작업이 일어났는지 나타낸다.
- 너비가 넓을수록 렌더링이 오래걸렸다는 의미
- 마우스 커서를 가져다 대면 렌더링 정보 및 해당 커밋과 관련된 추가정보 확인 가능
- 렌더링 되지 않은 컴포넌트는 회색으로 표시 - 아래의 2가지 확인 가능
  - 의도한 대로 메모이제이션이 작동하는지
  - 특정 상태 변화에 따라 제한적으로 렌더링이 발생하는지

### Timeline

- 시간이 지남에 따라 컴포넌트에서 어떤 일이 일어났는지 확인할 수 있다.
- 리액트 18이상의 환경에서만 확인 가능
- input에 글자를 입력하면서 state값이 업데이트되고, 이 값이 언제 업데이트 이뤄졌는지 확인 가능
- 시간의 흐름에 따라 리액트가 작동하는 내용을 추적하는데 유용하다.

### 리액트 개발 도구 정리

- 리액트 개발 도구를 활용하여 정적으로 생성된 컴포넌트 트리를 보고 확인 가능(Components)
- 프로파일링을 통해 리액트 어플리케이션이 시간이 지남에 따라 어떤 식으로 작동하는지, 불필요한 리렌더링이 일어나고 있는지 확인 가능
